<html>
<head>
    <title>Strona z szablonem</title>
    <link rel="stylesheet" href="https://gnezenca.github.io/krajovastrona/templates/style.css">
    <link rel="stylesheet" href="https://gnezenca.github.io/krajovastrona/templates/news-style.css">
</head>
<body>
    <div id="content"></div>
    <script>
        fetch('1.html', { cache: 'no-store' })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Błąd ładowania pliku 1.html: ' + response.statusText);
                }
                return response.text();
            })
            .then(data => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(data, 'text/html');
                // Użycie doc.body.innerHTML do wstawienia treści szablonu jest poprawne,
                // pod warunkiem, że plik 1.html zawiera tylko fragment (jak w Twoim przykładzie)
                const bodyContent = doc.body.innerHTML;
                document.getElementById('content').innerHTML = bodyContent;
                
                // --- PRAWIDŁOWE WYPEŁNIANIE DANYCH ---
                document.getElementById('title').textContent = 'Tytul';
                document.getElementById('contain').textContent = 'Trest';
                document.getElementById('date').textContent = '01.01.2000';
                
                // POPRAWKA: Wstawienie linku do atrybutu href.
                // 1. Używamy nowego, poprawnego ID linku (<a>).
                // 2. Używamy setAttribute('href', ...) do ustawienia adresu URL.
                const previousLink = document.getElementById('previous-news-link');
                if (previousLink) {
                    // Wstawienie rzeczywistego URL-a (np. "news-21.html")
                    previousLink.setAttribute('href', '21.html'); 
                }
            })
            .catch(error => {
                console.error('Błąd podczas ładowania lub przetwarzania pliku:', error);
                document.getElementById('content').innerHTML = `<p style="color:red;">Wystąpił błąd ładowania pliku. Upewnij się, że plik 1.html istnieje i jest dostępny.</p>`;
            });
    </script>
    <script src="https://gnezenca.github.io/krajovastrona/templates/skrypt.js"></script>
</body>
</html>
