<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gnezenska Respublika - Povstane krajovej strony</title>
    <link rel="stylesheet" href="https://gnezenca.github.io/krajovastrona/templates/style.css">
    <link rel="stylesheet" href="https://gnezenca.github.io/krajovastrona/templates/news-style.css">
    <link rel="shortcut icon" href="https://gnezenca.github.io/krajovastrona/images/favicon.ico">
</head>
<body>
    <div id="content"></div>

    <script>
        const templateUrl = 'https://gnezenca.github.io/krajovastrona/templates/news-template.html';
        // Dodajemy unikalny parametr ?t=czas aby zawsze pobierać najnowszą wersję
        fetch(`${templateUrl}?t=${Date.now()}`, { cache: 'no-store' })
            .then(response => {
                if (!response.ok) throw new Error('Błąd ładowania szablonu: ' + response.statusText);
                return response.text();
            })
            .then(data => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(data, 'text/html');
                document.getElementById('content').innerHTML = doc.body.innerHTML;

                // --- GNZ ---
                document.getElementById('title-gnz').textContent = 'Povstane krajovej strony';
                document.getElementById('contain-gnz').innerHTML = 'Gnezenska Respublika informovat o rozpočutu dalarosty novej krajovej strony, beducej pod adresom <a href="https://gnezenca.github.io/krajovastrona">gnezenca.github.io/krajovastrona</a>...';
                document.getElementById('image-gnz').innerHTML = '<img src="https://gnezenca.github.io/krajovastrona/images/beginning.jpg" class="wiadomosc-obrazek">';
                document.getElementById('date-gnz').textContent = '01.09.2025';
                document.getElementById('previousnews-gnz').innerHTML = '<span class="brak-wiadomosci"></span>';
                document.getElementById('nextnews-gnz').innerHTML = '<a href="2.html" class="nawigacja-link nowszy">Nastupna vest <span class="strzalka">&rarr;</span></a>';

                // --- POL ---
                document.getElementById('title-pol').textContent = 'Powstanie strony państwowej';
                document.getElementById('contain-pol').innerHTML = 'Republika Gneżeńska informuje o rozpoczęciu działalności nowej strony państwowej...';
                document.getElementById('image-pol').innerHTML = '<img src="https://gnezenca.github.io/krajovastrona/images/beginning.jpg" class="wiadomosc-obrazek">';
                document.getElementById('date-pol').textContent = '01.09.2025';
                document.getElementById('previousnews-pol').innerHTML = '<span class="brak-wiadomosci"></span>';
                document.getElementById('nextnews-pol').innerHTML = '<a href="2.html" class="nawigacja-link nowszy">Następna wiadomość <span class="strzalka">&rarr;</span></a>';

                // --- ENG ---
                document.getElementById('title-eng').textContent = 'Developing of state website';
                document.getElementById('contain-eng').innerHTML = 'Republic of Gnezenland informs about the beginning of activity of state website...';
                document.getElementById('image-eng').innerHTML = '<img src="https://gnezenca.github.io/krajovastrona/images/beginning.jpg" class="wiadomosc-obrazek">';
                document.getElementById('date-eng').textContent = '01.09.2025';
                document.getElementById('previousnews-eng').innerHTML = '<span class="brak-wiadomosci"></span>';
                document.getElementById('nextnews-eng').innerHTML = '<a href="2.html" class="nawigacja-link nowszy">Next news <span class="strzalka">&rarr;</span></a>';
            })
            .catch(error => {
                console.error('Błąd podczas ładowania lub przetwarzania szablonu:', error);
                document.getElementById('content').innerHTML = `<p style="color:red;">Wystąpił błąd ładowania pliku szablonu.</p>`;
            });
    </script>
    <script src="https://gnezenca.github.io/krajovastrona/templates/skrypt.js"></script>
</body>
</html>
