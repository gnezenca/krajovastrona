<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gnezenska Respublika - Povstane krajovej strony</title>
    <link rel="stylesheet" href="https://gnezenca.github.io/krajovastrona/templates/style.css">
    <link rel="stylesheet" href="https://gnezenca.github.io/krajovastrona/templates/news-style.css">
    <link rel="shortcut icon" href="https://gnezenca.github.io/krajovastrona/images/favicon.ico">
</head>
<body>
    <div id="content"></div>

    <script>
        fetch('https://gnezenca.github.io/krajovastrona/templates/news-template.html?v=' + Date.now())
            .then(response => {
                if (!response.ok) {
                    throw new Error('Błąd ładowania szablonu: ' + response.statusText);
                }
                return response.text();
            })
            .then(html => {
                // wstawienie szablonu
                document.getElementById('content').innerHTML = html;

                // --- GNZ ---
                document.getElementById('title-gnz').textContent = 'Povstane krajovej strony';
                document.getElementById('contain-gnz').innerHTML = 'Povstane krajovej strony. Tekst je wczytany ze szablonu a wypełniony dynamicznie.';
                document.getElementById('image-gnz').innerHTML = '<img src="https://gnezenca.github.io/krajovastrona/images/gnezenska_flaga.png" class="wiadomosc-obrazek">';
                document.getElementById('date-gnz').textContent = '27. septembra 2025';
                document.getElementById('previousnews-gnz').innerHTML = '<span class="brak-wiadomosci"></span>';
                document.getElementById('nextnews-gnz').innerHTML = '<a href="2.html" class="nawigacja-link nowszy">Nastupna vest <span class="strzalka">&rarr;</span></a>';

                // --- POL ---
                document.getElementById('title-pol').textContent = 'Powstanie strony krajowej';
                document.getElementById('contain-pol').innerHTML = 'Powstanie strony krajowej. Tekst jest wczytany z szablonu i wypełniony dynamicznie.';
                document.getElementById('image-pol').innerHTML = '<img src="https://gnezenca.github.io/krajovastrona/images/gnezenska_flaga.png" class="wiadomosc-obrazek">';
                document.getElementById('date-pol').textContent = '27.09.2025';
                document.getElementById('previousnews-pol').innerHTML = '<span class="brak-wiadomosci"></span>';
                document.getElementById('nextnews-pol').innerHTML = '<a href="2.html" class="nawigacja-link nowszy">Następna wiadomość <span class="strzalka">&rarr;</span></a>';

                // --- ENG ---
                document.getElementById('title-eng').textContent = 'Creation of the national website';
                document.getElementById('contain-eng').innerHTML = 'The national website has been created. This text is loaded from the template and filled dynamically.';
                document.getElementById('image-eng').innerHTML = '<img src="https://gnezenca.github.io/krajovastrona/images/gnezenska_flaga.png" class="wiadomosc-obrazek">';
                document.getElementById('date-eng').textContent = '27.09.2025';
                document.getElementById('previousnews-eng').innerHTML = '<span class="brak-wiadomosci"></span>';
                document.getElementById('nextnews-eng').innerHTML = '<a href="2.html" class="nawigacja-link nowszy">Next news <span class="strzalka">&rarr;</span></a>';

                // --- dopiero teraz ładujemy dodatkowy skrypt ---
                const script = document.createElement("script");
                script.src = "https://gnezenca.github.io/krajovastrona/templates/skrypt.js";
                document.body.appendChild(script);
            })
            .catch(error => {
                console.error('Błąd podczas ładowania lub przetwarzania szablonu:', error);
                document.getElementById('content').innerHTML = `<p style="color:red;">Wystąpił błąd ładowania pliku szablonu.</p>`;
            });
    </script>
</body>
</html>
